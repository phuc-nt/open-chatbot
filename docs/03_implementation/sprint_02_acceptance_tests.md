# Acceptance Test Cases - Sprint 2

**M·ª•c ti√™u**: X√°c th·ª±c to√†n b·ªô ch·ª©c nƒÉng ƒë∆∞·ª£c ph√°t tri·ªÉn trong Sprint 2, bao g·ªìm API Integration, Keychain Service, UI Qu·∫£n l√Ω Key, Real-time Streaming Chat, Model Persistence, v√† Real-time State Synchronization.

**H∆∞·ªõng d·∫´n**: Th·ª±c hi·ªán t·ª´ng test case d∆∞·ªõi ƒë√¢y tr√™n simulator ho·∫∑c thi·∫øt b·ªã th·∫≠t. ƒêi·ªÅn v√†o c·ªôt "Actual Result" v√† ƒë√°nh d·∫•u "Pass" ho·∫∑c "Fail" v√†o c·ªôt "Status".

---

## üß™ B·∫£ng Test Cases

| ID        | Feature                      | Test Case Description                                               | Steps to Reproduce                                                                                                                                                                 | Expected Result                                                                                                                                                             | Actual Result | Status (Pass/Fail) |
|-----------|------------------------------|---------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **AT-S2-01** | **API Key Management**       | Th√™m m·ªôt API key h·ª£p l·ªá c·ªßa OpenRouter.                                | 1. M·ªü app, v√†o Settings -> API Keys. <br> 2. Ch·ªçn "OpenRouter". <br> 3. Nh·∫•n "Add API Key". <br> 4. D√°n m·ªôt API key **h·ª£p l·ªá** v√† l∆∞u l·∫°i.                                           | - Key m·ªõi ƒë∆∞·ª£c th√™m v√†o danh s√°ch. <br> - Key hi·ªÉn th·ªã d∆∞·ªõi d·∫°ng masked (v√≠ d·ª•: `sk-or-v1-‚Ä¢‚Ä¢‚Ä¢‚Ä¢-123`). <br> - Tr·∫°ng th√°i c·ªßa key l√† "Not Verified".                          |               |                    |
| **AT-S2-02** | **API Key Management**       | Ki·ªÉm tra k·∫øt n·ªëi th√†nh c√¥ng v·ªõi key h·ª£p l·ªá.                           | 1. Th·ª±c hi·ªán c√°c b∆∞·ªõc c·ªßa AT-S2-01. <br> 2. Nh·∫•n v√†o n√∫t "Test Connection" b√™n c·∫°nh key v·ª´a th√™m.                                                                                  | - Th√¥ng b√°o "Connection Successful!" hi·ªÉn th·ªã. <br> - Tr·∫°ng th√°i c·ªßa key chuy·ªÉn th√†nh "Valid". <br> - N√∫t "Test Connection" bi·∫øn m·∫•t.                                          |               |                    |
| **AT-S2-03** | **API Key Management**       | Th√™m m·ªôt API key kh√¥ng h·ª£p l·ªá v√† ki·ªÉm tra l·ªói.                       | 1. V√†o Settings -> API Keys -> OpenRouter. <br> 2. Th√™m m·ªôt API key **kh√¥ng h·ª£p l·ªá** (v√≠ d·ª•: "123"). <br> 3. Nh·∫•n "Test Connection".                                                | - Th√¥ng b√°o l·ªói "Invalid API Key" ho·∫∑c t∆∞∆°ng t·ª± hi·ªÉn th·ªã. <br> - Tr·∫°ng th√°i c·ªßa key v·∫´n l√† "Invalid".                                                                        |               |                    |
| **AT-S2-04** | **API Key Management**       | X√≥a m·ªôt API key.                                                    | 1. V√†o Settings -> API Keys -> OpenRouter. <br> 2. Vu·ªët sang tr√°i tr√™n m·ªôt key ƒë√£ th√™m. <br> 3. Nh·∫•n n√∫t "Delete".                                                                   | - Key b·ªã x√≥a kh·ªèi danh s√°ch.                                                                                                                                                |               |                    |
| **AT-S2-05** | **Streaming Chat**           | G·ª≠i m·ªôt tin nh·∫Øn v√† nh·∫≠n ph·∫£n h·ªìi streaming th√†nh c√¥ng.               | 1. Quay l·∫°i m√†n h√¨nh Chat. <br> 2. ƒê·∫£m b·∫£o ƒë√£ c√≥ API key h·ª£p l·ªá v√† ƒë√£ ch·ªçn m·ªôt model (v√≠ d·ª•: GPT-4o Mini). <br> 3. G√µ "Hello, how are you?" v√† g·ª≠i.                             | - Tin nh·∫Øn c·ªßa ng∆∞·ªùi d√πng hi·ªÉn th·ªã ngay l·∫≠p t·ª©c. <br> - Typing indicator c·ªßa assistant xu·∫•t hi·ªán. <br> - Ph·∫£n h·ªìi c·ªßa assistant hi·ªÉn th·ªã d·∫ßn d·∫ßn t·ª´ng ch·ªØ/t·ª´ m·ªôt c√°ch m∆∞·ª£t m√†.      |               |                    |
| **AT-S2-06** | **Streaming Chat**           | D·ª´ng m·ªôt y√™u c·∫ßu streaming ƒëang di·ªÖn ra.                             | 1. G·ª≠i m·ªôt c√¢u h·ªèi d√†i ƒë·ªÉ ƒë·∫£m b·∫£o c√≥ th·ªùi gian streaming (v√≠ d·ª•: "H√£y k·ªÉ m·ªôt c√¢u chuy·ªán ng·∫Øn v·ªÅ m·ªôt con t√†u v≈© tr·ª•"). <br> 2. Trong khi assistant ƒëang tr·∫£ l·ªùi, nh·∫•n n√∫t "Stop". | - Qu√° tr√¨nh streaming d·ª´ng l·∫°i ngay l·∫≠p t·ª©c. <br> - Typing indicator bi·∫øn m·∫•t. <br> - N√∫t "Stop" chuy·ªÉn l·∫°i th√†nh n√∫t "Send".                                                      |               |                    |
| **AT-S2-07** | **Streaming Chat**           | X·ª≠ l√Ω l·ªói khi kh√¥ng c√≥ API key h·ª£p l·ªá.                                | 1. X√≥a t·∫•t c·∫£ API key h·ª£p l·ªá trong Settings. <br> 2. Quay l·∫°i m√†n h√¨nh Chat. <br> 3. G·ª≠i m·ªôt tin nh·∫Øn.                                                                           | - M·ªôt banner l·ªói hi·ªÉn th·ªã ·ªü ƒë·∫ßu m√†n h√¨nh v·ªõi th√¥ng b√°o "API Key not found or invalid." ho·∫∑c t∆∞∆°ng t·ª±. <br> - Tin nh·∫Øn kh√¥ng ƒë∆∞·ª£c g·ª≠i ƒëi.                                     |               |                    |
| **AT-S2-08** | **Model Selection**          | Chuy·ªÉn ƒë·ªïi model trong khi chat.                                     | 1. M·ªü menu (d·∫•u ba ch·∫•m ·ªü g√≥c tr√™n b√™n ph·∫£i). <br> 2. Ch·ªçn "Ch·ªçn Model". <br> 3. Ch·ªçn m·ªôt model kh√°c v·ªõi model hi·ªán t·∫°i. <br> 4. G·ª≠i m·ªôt tin nh·∫Øn m·ªõi.                          | - T√™n model m·ªõi ƒë∆∞·ª£c hi·ªÉn th·ªã tr√™n header c·ªßa m√†n h√¨nh Chat. <br> - Ph·∫£n h·ªìi ƒë∆∞·ª£c tr·∫£ v·ªÅ t·ª´ model m·ªõi ƒë√£ ch·ªçn (c√≥ th·ªÉ ki·ªÉm tra b·∫±ng c√°ch h·ªèi "B·∫°n l√† model n√†o?").            |               |                    |
| **AT-S2-09** | **Error Handling**           | X·ª≠ l√Ω l·ªói khi kh√¥ng c√≥ k·∫øt n·ªëi m·∫°ng.                                  | 1. T·∫Øt Wi-Fi v√† D·ªØ li·ªáu di ƒë·ªông tr√™n thi·∫øt b·ªã/simulator. <br> 2. G·ª≠i m·ªôt tin nh·∫Øn trong Chat.                                                                               | - Banner l·ªói hi·ªÉn th·ªã v·ªõi th√¥ng b√°o v·ªÅ s·ª± c·ªë m·∫°ng (v√≠ d·ª•: "The Internet connection appears to be offline.").                                                               |               |                    |
| **AT-S2-10** | **UI/UX**                    | Ki·ªÉm tra hi·ªÉn th·ªã v√† cu·ªôn trong danh s√°ch tin nh·∫Øn.                 | 1. G·ª≠i nhi·ªÅu tin nh·∫Øn qua l·∫°i ƒë·ªÉ danh s√°ch d√†i h∆°n m√†n h√¨nh. <br> 2. Quan s√°t v√† cu·ªôn danh s√°ch.                                                                           | - Danh s√°ch tin nh·∫Øn cu·ªôn m∆∞·ª£t m√†. <br> - Tin nh·∫Øn m·ªõi nh·∫•t lu√¥n ƒë∆∞·ª£c t·ª± ƒë·ªông cu·ªôn xu·ªëng ƒë·ªÉ xem. <br> - Message bubble c·ªßa user v√† assistant c√≥ m√†u v√† v·ªã tr√≠ kh√°c nhau.       |               |                    |

---

## üÜï **Enhanced Features Test Cases**

| ID        | Feature                      | Test Case Description                                               | Steps to Reproduce                                                                                                                                                                 | Expected Result                                                                                                                                                             | Actual Result | Status (Pass/Fail) |
|-----------|------------------------------|---------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **AT-S2-11** | **Default Model Settings**   | C√†i ƒë·∫∑t model m·∫∑c ƒë·ªãnh cho c√°c cu·ªôc h·ªôi tho·∫°i m·ªõi.                | 1. V√†o Settings -> Default AI Model. <br> 2. Ch·ªçn m·ªôt model t·ª´ danh s√°ch (v√≠ d·ª•: Claude-3.5 Sonnet). <br> 3. Quay l·∫°i Settings.                                           | - T√™n model ƒë√£ ch·ªçn hi·ªÉn th·ªã ngay l·∫≠p t·ª©c trong ph·∫ßn "Default AI Model" c·ªßa Settings. <br> - Model ƒë∆∞·ª£c ƒë√°nh d·∫•u ·ªü ƒë·∫ßu danh s√°ch khi m·ªü l·∫°i Default Model setting.        |               |                    |
| **AT-S2-12** | **Real-time State Sync**     | Ki·ªÉm tra ƒë·ªìng b·ªô h√≥a real-time gi·ªØa c√°c tab.                      | 1. ƒêang ·ªü tab Chat, ch√∫ √Ω model hi·ªán t·∫°i. <br> 2. Chuy·ªÉn sang Settings -> Default AI Model. <br> 3. Ch·ªçn model kh√°c. <br> 4. Chuy·ªÉn l·∫°i tab Chat.                        | - Model trong Chat tab ƒë∆∞·ª£c c·∫≠p nh·∫≠t ngay l·∫≠p t·ª©c th√†nh model m·ªõi (n·∫øu ƒëang ·ªü cu·ªôc h·ªôi tho·∫°i tr·ªëng). <br> - Kh√¥ng c·∫ßn restart app hay reload.                            |               |                    |
| **AT-S2-13** | **Model Persistence**        | L∆∞u model cho t·ª´ng cu·ªôc h·ªôi tho·∫°i ri√™ng bi·ªát.                     | 1. T·∫°o cu·ªôc h·ªôi tho·∫°i v·ªõi Model A, g·ª≠i 1-2 tin nh·∫Øn. <br> 2. T·∫°o cu·ªôc h·ªôi tho·∫°i m·ªõi v·ªõi Model B. <br> 3. Quay l·∫°i cu·ªôc h·ªôi tho·∫°i ƒë·∫ßu th√¥ng qua History.                  | - Khi quay l·∫°i cu·ªôc h·ªôi tho·∫°i ƒë·∫ßu, model t·ª± ƒë·ªông chuy·ªÉn v·ªÅ Model A. <br> - M·ªói cu·ªôc h·ªôi tho·∫°i ghi nh·ªõ model ƒë√£ s·ª≠ d·ª•ng.                                                   |               |                    |
| **AT-S2-14** | **Smart App Startup**        | App t·ª± ƒë·ªông m·ªü cu·ªôc h·ªôi tho·∫°i g·∫ßn nh·∫•t khi kh·ªüi ƒë·ªông.             | 1. C√≥ √≠t nh·∫•t 1 cu·ªôc h·ªôi tho·∫°i trong History. <br> 2. T·∫Øt app ho√†n to√†n. <br> 3. M·ªü l·∫°i app.                                                                              | - App t·ª± ƒë·ªông load cu·ªôc h·ªôi tho·∫°i g·∫ßn nh·∫•t thay v√¨ t·∫°o chat m·ªõi. <br> - Model ƒë∆∞·ª£c kh√¥i ph·ª•c theo cu·ªôc h·ªôi tho·∫°i ƒë√≥.                                                       |               |                    |
| **AT-S2-15** | **Model Search & Filter**    | T√¨m ki·∫øm model trong danh s√°ch model picker.                      | 1. M·ªü Model Picker (trong Chat ho·∫∑c Settings). <br> 2. G√µ t√™n model v√†o search bar (v√≠ d·ª•: "claude"). <br> 3. Ki·ªÉm tra k·∫øt qu·∫£ l·ªçc.                                      | - Ch·ªâ hi·ªÉn th·ªã c√°c model ph√π h·ª£p v·ªõi t·ª´ kh√≥a t√¨m ki·∫øm. <br> - Search ho·∫°t ƒë·ªông real-time khi g√µ. <br> - C√≥ th·ªÉ t√¨m theo t√™n model ho·∫∑c provider.                          |               |                    |
| **AT-S2-16** | **History Tab Enhancement**   | Ki·ªÉm tra UI c·∫£i ti·∫øn c·ªßa History tab.                             | 1. V√†o History tab. <br> 2. T·∫°o v√†i cu·ªôc h·ªôi tho·∫°i v·ªõi t√™n kh√°c nhau. <br> 3. Ki·ªÉm tra layout v√† t√¨m ki·∫øm.                                                              | - Layout nh·∫•t qu√°n v·ªõi Settings tab (Form-based). <br> - Kh√¥ng c√≥ overlap v·ªõi navigation bar. <br> - Search functionality ho·∫°t ƒë·ªông trong History.                       |               |                    |
| **AT-S2-17** | **Navigation Improvements**  | Chuy·ªÉn ƒë·ªïi m∆∞·ª£t m√† gi·ªØa History v√† Chat.                          | 1. ·ªû History tab, tap v√†o m·ªôt cu·ªôc h·ªôi tho·∫°i. <br> 2. Ki·ªÉm tra vi·ªác chuy·ªÉn tab v√† load conversation.                                                                       | - T·ª± ƒë·ªông chuy·ªÉn sang Chat tab. <br> - Cu·ªôc h·ªôi tho·∫°i ƒë∆∞·ª£c load v·ªõi ƒë√∫ng messages v√† model. <br> - Transition m∆∞·ª£t m√† kh√¥ng c√≥ lag.                                       |               |                    |
| **AT-S2-18** | **New Chat Button**          | T·∫°o cu·ªôc h·ªôi tho·∫°i m·ªõi t·ª´ Chat tab.                               | 1. ·ªû Chat tab, nh·∫•n n√∫t "New Chat" (top-left). <br> 2. Ki·ªÉm tra reset state.                                                                                              | - Messages ƒë∆∞·ª£c clear. <br> - Model chuy·ªÉn v·ªÅ default model. <br> - S·∫µn s√†ng cho cu·ªôc h·ªôi tho·∫°i m·ªõi.                                                                      |               |                    |

---

## üìä **Test Execution Summary**

**Total Test Cases**: 18  
**Core Features**: 10 test cases  
**Enhanced Features**: 8 test cases  

**Pass**: ___/18  
**Fail**: ___/18  
**Coverage**: API Management, Streaming Chat, Model Management, State Synchronization, Persistence, UI/UX  

---

## üìù **Notes & Issues**

**Tester**: ___________________  
**Date**: ___________________  
**Device/Simulator**: ___________________  
**iOS Version**: ___________________  

**Issues Found**:
1. ________________________________
2. ________________________________
3. ________________________________

**Recommendations**:
1. ________________________________
2. ________________________________
3. ________________________________ 